
<p-card>
  <div class="flex align-items-start flex-column lg:flex-row lg:justify-content-between" style="padding-left: 1%; padding-right: 1%;">
    <div class="flex align-items-start flex-column md:flex-row">
      <img src="assets/image/{{getSpecificResearcher.profile_pic}}.png" class="mr-5 mb-3 lg:mb-0" style="width:100px; height:100px; border-radius: 50%;" />
  
      <div>
        <span class="text-900 font-medium text-3xl">RR{{getSpecificResearcher.srno}} - {{getSpecificResearcher.avatar}}</span>
        <div class="flex align-items-center flex-wrap text-sm">
          <div class="mr-5 mt-3">
            <span class="font-medium text-500">TEAM</span>
            <div class="text-700 mt-2">{{getSpecificResearcher.teams}}</div>
          </div>
          <div class="mr-5 mt-3">
            <span class="font-medium text-500">Bounty Earned</span>
            <div *ngIf="getSpecificResearcher.total_bounty_earned" class="text-700 mt-2">{{getSpecificResearcher.total_bounty_earned}}</div>
            <div *ngIf="!getSpecificResearcher.total_bounty_earned" class="text-700 mt-2">0</div>
          </div>
          <div class="mr-2 mt-3">
            <span class="font-medium text-500">Points</span>
            <div class="text-700 mt-2">{{getSpecificResearcher.points}}</div>
          </div>
        </div>
        <div class="pt-2 ">
        <div *ngIf="getSpecificResearcher.points<=50"
        style="max-width: 30%;font-weight: 500;color:white ;background-color: #0d90fc;
         font-size: 1rem; padding: 6px;border-radius: 40px; padding-left: 10px;
         padding-right: 10px; text-align: center;">Beginner</div>
         <div *ngIf="getSpecificResearcher.points>50 && getSpecificResearcher.points<=150"
         style="max-width: 30%;font-weight: 500;color:white ;background-color: #0d90fc;
          font-size: 1rem; padding: 6px;border-radius: 40px; padding-left: 10px;
          padding-right: 10px; text-align: center;">Advanced</div>
          <div *ngIf="getSpecificResearcher.points>150"
            style="max-width: 30%;font-weight: 500;color:white ;background-color: #0d90fc;
             font-size: 1rem; padding: 6px;border-radius: 40px; padding-left: 10px;
             padding-right: 10px; text-align: center;">Expert</div>
      </div>
      </div>
    </div>
    <div class="flex align-items-start flex-column lg:flex-row lg:justify-content-center" style="text-align: center;">
      <div class="flex flex-column  pr-2 pt-4" style="text-align: center;">
        <div style="font-weight: 500;color:white ;background-color: #ac0202; font-size: 1rem; padding: 6px;border-radius: 40px; padding-left: 10px;padding-right: 10px;">Critical</div>
        <div class="font-medium">
         <span style="font-size: 2rem;" pTooltip="Approved Critical Vuln." class="mb-2" tooltipPosition="bottom">{{Acritical}}</span>
         <span  style="font-size: 2.2rem" >/</span>
         <span class="mt-4" style="font-size: 2rem;" pTooltip="Total Critical Vuln." tooltipPosition="bottom" >{{Tcritical}}</span>
        </div>
      </div>
      <div class="flex flex-column  pr-3 pt-4 pl-3" style="text-align: center;">
        <div style="font-weight: 500;color:white ;background-color: #f32d0e; font-size: 1rem; padding: 6px;border-radius: 40px;  padding-left: 15px;padding-right: 15px;">High</div>
        <div class="font-medium">
         <span style="font-size: 2rem;" pTooltip="Approved High Vuln." tooltipPosition="bottom" class="mb-2">{{Ahigh}}</span>
         <span  style="font-size: 2.2rem" >/</span>
         <span class="mt-4" style="font-size: 2rem;" pTooltip="Total High Vuln." tooltipPosition="bottom">{{Thigh}}</span>
        </div>
      </div>
      <div class="flex flex-column pr-2 pl-2 pt-4" style="text-align: center;">
        <div style="font-weight: 500;color:white ;background-color: #FFA500; font-size: 1rem; padding: 6px;border-radius: 40px;  padding-left: 10px;padding-right: 10px;">Medium</div>
        <div class="font-medium">
         <span style="font-size: 2rem;" pTooltip="Approved Medium Vuln." class="mb-2" tooltipPosition="bottom">{{Amed}}</span>
         <span  style="font-size: 2.2rem" >/</span>
         <span class="mt-4" style="font-size: 2rem;" pTooltip="Total Medium Vuln." tooltipPosition="bottom">{{Tmedium}}</span>
        </div>
      </div>
      <div class="flex flex-column pr-3 pl-3 pt-4" style="text-align: center;">
        <div style="font-weight: 500;color:white ;background-color: #FFDF00; font-size: 1rem; padding: 6px;border-radius: 40px; padding-left: 15px;padding-right: 15px;">Low</div>
        <div class="font-medium">
         <span style="font-size: 2rem;" pTooltip="Approved Low Vuln." class="mb-2" tooltipPosition="bottom">{{Alow}}</span>
         <span  style="font-size: 2.2rem" >/</span>
         <span class="mt-4" style="font-size: 2rem;" pTooltip="Total Low Vuln." tooltipPosition="bottom">{{Tlow}}</span>
        </div>
      </div>
      <div style="align-content: center;text-align: center; padding:10px">
       <p-knob [(ngModel)]="valid" [readonly]="true" valueTemplate="{value}%" valueColor="#32CD32"></p-knob>
       <span style="text-align: center;font-weight: 500;">Acceptance Percentage</span>
      </div>
    </div>
    <div class="mt-3 lg:mt-0">
      <button *ngIf="getSpecificResearcher.isEditable" pButton pRipple pTooltip="Edit" tooltipPosition="top" [routerLink]="['/editResearcher/' + srno]" icon="pi pi-pencil" class="p-button-rounded mr-2"></button>
    </div>
  </div>
  </p-card>

  <div class="surface-ground">
    <div class="flex flex-column relative flex-auto">
      <div class="grid" style="width: 100%;">
        <div class="col-12 xl:col-8 px-6 py-5">
          <div class="surface-card p-4 shadow-2 border-round" style="margin-top: 10px;">
            <ul class="list-none p-0 m-0 border-top-1 border-300">
              <li class="flex align-items-center py-3 px-2 flex-wrap">
                <div class="text-500 w-full md:w-2 font-medium">Bio</div>
                <div class="text-900 w-full md:w-10 line-height-3" style="width: 100%; overflow-wrap: break-word;">{{getSpecificResearcher.emp_bio}}</div>
              </li>
              <li class="flex align-items-center py-3 px-2 flex-wrap surface-50">
                <div class="text-500 w-full md:w-2 font-medium">Bounty Earned</div>
                <div class="text-900 w-full md:w-10" *ngIf="getSpecificResearcher.total_bounty_earned != null">
                  {{getSpecificResearcher.total_bounty_earned}}</div>
                <div class="text-900 w-full md:w-10" *ngIf="getSpecificResearcher.total_bounty_earned == null">0</div>
              </li>
              <li class="flex align-items-center py-3 px-2 flex-wrap">
                <div class="text-500 w-full md:w-2 font-medium">Skills</div>
                <div style="margin:2px;" *ngFor="let data of getSpecificResearcher.tags let i=index">

                  
                  <p-tag *ngIf="i%4==0" styleClass="mr-2" severity="warning" [value]="data" [rounded]="true"></p-tag>
                  <p-tag *ngIf="i%4==1" styleClass="mr-2" severity="danger" [value]="data" [rounded]="true"></p-tag>
                  <p-tag *ngIf="i%4==2" styleClass="mr-2" severity="info" [value]="data" [rounded]="true"></p-tag>
                  <p-tag *ngIf="i%4==3" styleClass="mr-2" severity="success" [value]="data" [rounded]="true"></p-tag>
                </div>

              </li>
            </ul>
          </div>

        </div>
        <div class="col-12 xl:col-3 py-5">
          <div class="surface-card shadow-2 border-round p-4">
            <div class="flex justify-content-between align-items-center mb-5">
              <span class="text-xl text-900 font-bold"><b> <button class="removestyle" (click)="showdetails()">Hunt
                    History</button></b></span>


            </div>
            <div>
              <div *ngIf="getSpecificResearcher.particular_hunt_history.length==0">
                No Hunt history found for the Researcher
              </div>
              <div *ngFor="let sample of getSpecificResearcher.particular_hunt_history ">
                <ul class="list-none p-0 m-0">
                  <li class="flex flex-column md:flex-row md:align-items-center md:justify-content-between mb-4">
                    <div class="flex">
                      <div>
                        <span class="block text-900 font-medium mb-1">{{sample.title}}</span>
                      </div>
                    </div>
                    <div class="mt-2 md:mt-0 flex flex-nowrap">
                      <button pButton pRipple
                        class="p-button-text p-button-plain p-button-rounded mr-1">{{sample.count}}</button>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>

      
      <div class="p-5" *ngIf="detailhunthistory.length != 0 && getSpecificResearcher.isEditable">
        <p-table #dt [value]="detailhunthistory" dataKey="srno" [paginator]="true" [rows]="counter"
          [showCurrentPageReport]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
          styleClass="p-datatable-customers p-datatable-gridlines p-datatable-responsive-demo"
          [rowsPerPageOptions]="[10,25,50]" [globalFilterFields]="['bprogramme_name', 'title']">
          <ng-template pTemplate="caption">
            <div class="p-d-flex p-ai-center p-jc-between grid">
              <div class="col-12 md:col-9" style="font-size: 24px;">Hunt History Details</div>
              <span class="p-input-icon-left col-12 md:col-3">
                <i class="pi pi-search"></i>
                <input pInputText type="text" (input)="dt.filterGlobal($any($event.target).value, 'contains')"
                  placeholder="Search..." />
              </span>
            </div>
          </ng-template>

          <ng-template pTemplate="header">
            <tr>
              <th pSortableColumn="bprogramme_name">Programme Name <p-sortIcon field="bprogramme_name"></p-sortIcon>
              </th>
              <th pSortableColumn="title">Title <p-sortIcon field="title"></p-sortIcon>
              </th>
              <th pSortableColumn="vrt_category">VRT Category <p-sortIcon field="vrt_category"></p-sortIcon>
              </th>
              <th pSortableColumn="total_reward">Bounty Earned<p-sortIcon field="total_reward"></p-sortIcon>
              </th>
              <th pSortableColumn="status">Status<p-sortIcon field="status"></p-sortIcon>
              </th>
            </tr>
          </ng-template>

          <ng-template pTemplate="body" let-element>
            <tr>
              <td style="word-wrap: break-word;">{{element.bprogramme_name}}</td>
              <td style="word-wrap: break-word;">{{element.title}}</td>
              <td style="word-wrap: break-word;">{{element.vrt_category}}</td>
              <td style="word-wrap: break-word;" *ngIf="element.total_reward!=null">{{element.total_reward}}</td>
              <td style="word-wrap: break-word;" *ngIf="element.total_reward==null">0</td>
              <td style="word-wrap: break-word;">{{element.status}}</td>

            </tr>
          </ng-template>

        </p-table>

      </div>
    </div>
