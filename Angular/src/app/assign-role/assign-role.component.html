<p-toast></p-toast>
<p-confirmDialog header="Confirmation" icon="pi pi-exclamation-triangle"></p-confirmDialog>

<div style="margin:2%">
  <p-panel header="Bughuntr Admin Role Assignment" [toggleable]="true" >
    <ng-template pTemplate="icons">
      <button pButton class="p-panel-header-icon p-link" (click)="menu.toggle($event)">
      </button>
      <p-menu #menu id="config_menu" [model]="items" [popup]="true"></p-menu>
    </ng-template>
    <div class="mb-5 grid">
      <div class="col-12 md:col-6 grid">
        <label class="col-12 md:col-3 text-900 font-medium text-xl">Employee ID :</label>
        <div class="col-12 md:col-6">
          <input pInputText="text" [(ngModel)]="admin_role_bounty_id" pInputText placeholder="Enter Employee ID"
            style="width: 100%;" />
        </div>
        <div class="col-12 md:col-3">
          <p-button label="Add" (click)="getAdminEmployeeName()" icon="pi pi-plus"></p-button>
        </div>
      </div>
    </div>

    <div class="card">


      <p-table #dt1 [paginator]="true" [rows]="10" [value]="lst1" [rowHover]="true" [responsive]="true"
        styleClass="p-datatable-gridlines p-datatable-striped" [globalFilterFields]="['empid','employee_name']">


        <ng-template pTemplate="caption">
          <div class="mt-3 md:mt-0" style="text-align:right">
            <span class="p-input-icon-left p-ml-auto">
              <i class="pi pi-search"></i>

              <input pInputText type="text" (input)="dt1.filterGlobal($any($event.target).value, 'contains')"
                placeholder="Search" />
            </span>
          </div>

        </ng-template>




        <ng-template pTemplate="header">
          <tr>
            <th style="text-align: center; width:20%">Sr. No

   
            <th pSortableColumn="empid" style="text-align: center; width:20%">Employee ID<p-sortIcon field="empid">

              </p-sortIcon>

            </th>
            <th pSortableColumn="employee_name" style="text-align: center; width:20%">Employee Name<p-sortIcon
                field="employee_name">

              </p-sortIcon>

            </th>
            <th style="text-align: center; width:20%">Actions

            </th>

          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-columns let-i="rowIndex">
          <tr>
            <td>{{i+1}}</td>
            <td>{{columns.empid}}</td>
            <td>{{columns.employee_name}}</td>
            <td style="text-align: center;"><button pButton class="p-button-warning p-button-raised p-button-rounded" type="button"
              icon="pi pi-trash" pTooltip="Delete" (click)="deleteEmployee(columns.srno)" tooltipPosition="top" ></button></td>
          </tr>
        </ng-template>


      </p-table>
    </div>

  </p-panel>
</div>





<div style="margin:2%">
  <p-panel class="font-large text-3xl text-900" header="Bounty Admin Role Assignment" [toggleable]="true" [collapsed]="true">
    <ng-template pTemplate="icons">
      <p-menu #menu id="config_menu" [model]="items" [popup]="true"></p-menu>
    </ng-template>

    <div class="mb-5 grid">
      <div class="col-12 md:col-6 grid">
        <label class="col-12 md:col-3 text-900 font-medium text-xl">Employee ID :</label>
        <div class="col-12 md:col-6">
          <input pInputText="text" [(ngModel)]="role_bounty_id" pInputText placeholder="Enter Employee ID"
            style="width: 100%;" />
        </div>
        <div class="col-12 md:col-3">
          <p-button label="Add" (click)="getprgAdminEmployeeName()" icon="pi pi-plus"></p-button>
        </div>
      </div>
    </div>



    <div class="card">


      <p-table #dt2 [paginator]="true" [rows]="10" [value]="lst2" [rowHover]="true" [responsive]="true"
        styleClass="p-datatable-gridlines p-datatable-striped" [globalFilterFields]="['empid','employee_name']">

        <ng-template pTemplate="caption">
          <div class="mt-3 md:mt-0" style="text-align:right">
            <span class="p-input-icon-left p-ml-auto">
              <i class="pi pi-search"></i>

              <input pInputText type="text" (input)="dt2.filterGlobal($any($event.target).value, 'contains')"
                placeholder="Search" />
            </span>
          </div>

        </ng-template>




        <ng-template pTemplate="header">
          <tr>
            <th style="text-align: center; width:20%">Sr. No
            </th>
            <th pSortableColumn="empid" style="text-align: center; width:20%">Employee ID<p-sortIcon field="empid">

              </p-sortIcon>

            </th>
            <th pSortableColumn="employee_name" style="text-align: center; width:20%">Employee Name<p-sortIcon
                field="employee_name">

              </p-sortIcon>

            </th>
            <th style="text-align: center; width:20%">Actions
            </th>

          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-columns let-i="rowIndex">
          <tr>
            <td>{{i+1}}</td>
            <td>{{columns.empid}}</td>
            <td>{{columns.employee_name}}</td>

                <td style="text-align: center;"><button pButton class="p-button-warning p-button-raised p-button-rounded" type="button"
                  icon="pi pi-trash" pTooltip="Delete" (click)="deleteEmployee(columns.srno)" tooltipPosition="top" ></button></td>
          </tr>
        </ng-template>


      </p-table>
    </div>
  </p-panel>
</div>





<p-dialog [(visible)]="displayAdminName" appendTo="body" [modal]="true"
  [breakpoints]="{'960px': '75vw', '640px': '100vw'}" [style]="{width: '40vw'}" [closable]="false" [showHeader]="false">
  <div class="flex flex-column align-items-center my-4">
    <span class="flex align-items-center justify-content-center bg-cyan-100 text-cyan-800 mr-3 border-circle mb-3"
      style="width:64px;height:64px">
      <i class="pi pi-user text-5xl"></i>
    </span>
    <div class="font-medium text-2xl text-900">Employee Name</div>
    <div class="font-medium text-2xl text-600">{{employeeName}}</div>
  </div>
  <p class="line-height-3 p-0 m-0 flex flex-column align-items-center my-4">
    Are you sure, you want to provide Bughuntr Admin access?
  </p>
  <ng-template pTemplate="footer">
    <div class=" border-top-1 surface-border pt-3 flex">
      <button pButton pRipple icon="pi pi-times" (click)="displayAdminName = false; admin_role_bounty_id=''"
        label="Cancel" class="p-button-outlined w-6 mr-2"></button>
      <button pButton pRipple icon="pi pi-check" (click)="displayAdminName = false; AddBughuntrAdminRole()" label="Save"
        class="w-6 ml-2"></button>
    </div>
  </ng-template>
</p-dialog>

<p-dialog [(visible)]="displayPrgAdminName" appendTo="body" [modal]="true"
  [breakpoints]="{'960px': '75vw', '640px': '100vw'}" [style]="{width: '40vw'}" [closable]="false" [showHeader]="false">
  <div class="flex flex-column align-items-center my-4">
    <span class="flex align-items-center justify-content-center bg-cyan-100 text-cyan-800 mr-3 border-circle mb-3"
      style="width:64px;height:64px">
      <i class="pi pi-user text-5xl"></i>
    </span>
    <div class="font-medium text-2xl text-900">Employee Name</div>
    <div class="font-medium text-2xl text-600">{{employeeName}}</div>
  </div>
  <p class="line-height-3 p-0 m-0 flex flex-column align-items-center my-4">
    Are you sure, you want to provide Bounty Program Admin access?
  </p>
  <ng-template pTemplate="footer">
    <div class=" border-top-1 surface-border pt-3 flex">
      <button pButton pRipple icon="pi pi-times" (click)="displayPrgAdminName = false; role_bounty_id=''" label="Cancel"
        class="p-button-outlined w-6 mr-2"></button>
      <button pButton pRipple icon="pi pi-check" (click)="displayPrgAdminName = false; AddBugBountyRole()" label="Save"
        class="w-6 ml-2"></button>
    </div>
  </ng-template>
</p-dialog>

<p-dialog [(visible)]="displayPrgAdminName" appendTo="body" [modal]="true"
  [breakpoints]="{'960px': '75vw', '640px': '100vw'}" [style]="{width: '40vw'}" [closable]="false" [showHeader]="false">
  <div class="flex flex-column align-items-center my-4">
    <span class="flex align-items-center justify-content-center bg-cyan-100 text-cyan-800 mr-3 border-circle mb-3"
      style="width:64px;height:64px">
      <i class="pi pi-user text-5xl"></i>
    </span>
    <div class="font-medium text-2xl text-900">Employee Name</div>
    <div class="font-medium text-2xl text-600">{{employeeName}}</div>
  </div>
  <p class="line-height-3 p-0 m-0 flex flex-column align-items-center my-4">
    Are you sure, you want to add Bounty Program Admin access?
  </p>
  <ng-template pTemplate="footer">
    <div class=" border-top-1 surface-border pt-3 flex">
      <button pButton pRipple icon="pi pi-times" (click)="displayPrgAdminName = false; role_bounty_id=''" label="Cancel"
        class="p-button-outlined w-6 mr-2"></button>
      <button pButton pRipple icon="pi pi-check" (click)="displayPrgAdminName = false; AddBugBountyRole()" label="Save"
        class="w-6 ml-2"></button>
    </div>
  </ng-template>
</p-dialog>
