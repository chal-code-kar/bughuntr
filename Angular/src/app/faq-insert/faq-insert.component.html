<p-toast></p-toast>
<p-confirmDialog header="Confirmation" icon="pi pi-exclamation-triangle"></p-confirmDialog>

<div class="surface-ground border-top-1 border-bottom-1 border-gray-300 px-4 py-3">
    <div class="flex flex-column md:align-items-center md:justify-content-between md:flex-row grid">
        <div class="font-medium text-3xl text-900 col-12 md:col-7">Frequently Asked Questions</div>
        <div class="col-12 md:col-5 grid">

            <span class="col-12 md:col-12" style="text-align: right;">
                <p-button label="ADD FAQ" (click)="QueryPost()" icon="pi pi-plus"></p-button>
            </span>
        </div>

    </div>
</div>
<div >
<p-dialog [(visible)]="querydialog" [style]="{width: '800px'}" header="Frequently Asked Questions" [modal]="true"
    styleClass="p-fluid">
    <ng-template pTemplate="content">

      <div class="p-1 md:align-items-center md:justify-content-between md:flex-row">
       
        <div style="padding: 1%;">
        <h4 style="color: #607D8B;"> Questions<span style="color: red"> *</span>:</h4>
          <textarea rows="6" cols="80" pInputTextarea [(ngModel)]="faqtitle"></textarea>
        </div>

        <div>
            <h4 style="color: #607D8B;">Description<span style="color: red"> *</span>:</h4>
            <p-editor [style]="{'height':'320px'}" [(ngModel)]="description"></p-editor>
        </div>
      </div>

    </ng-template>

    <ng-template pTemplate="footer">

      <button pButton pRipple type="button" label="Save" class="p-button-success" (click)="FaqInsert()"></button>
      <button pButton pRipple type="button" label="Cancel" class="p-button-danger" (click)="hide()"></button>

    </ng-template>
  </p-dialog> 
</div>


<div class="p-4">
    <p-table #dt1 [paginator]="true" [rows]="10" [value]="showfaq" [rowHover]="true" [responsive]="true"
        styleClass="p-datatable-gridlines p-datatable-striped" [globalFilterFields]="['faqtitle','description']">

        

        <ng-template pTemplate="caption">
            <div class="mt-3 md:mt-0" style="text-align:right">
                <span class="p-input-icon-left p-ml-auto">
                    <i class="pi pi-search"></i>

                    <input pInputText type="text" (input)="dt1.filterGlobal($any($event.target).value, 'contains')"
                        placeholder="Search" />
                </span>
            </div>

        </ng-template>

        <ng-template pTemplate="header">
            <tr>
                <th pSortableColumn="srno" style="text-align: center; width:5%">Sr. No

            </th>

                <th pSortableColumn="faqtitle" style="text-align: center; width:15%">FAQ Title<p-sortIcon
                        field="faqtitle">

                    </p-sortIcon>

                </th>
                <th pSortableColumn="description" style="text-align: center; width:20%">Description<p-sortIcon
                        field="description">

                    </p-sortIcon>

                </th>
                <th pSortableColumn="Actions" style="text-align: center; width:10%">Actions
  
              </th>
  
                

            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-columns let-i="rowIndex">
            <tr>
                <td style="text-align: center; width:5%;">{{i+1}}</td>
                <td style="text-align: center;">{{columns.faqtitle}}</td>
                <td style="text-align: center;" [innerHTML] = "columns.description" ></td>
                
                <td style="text-align: center;">
                    <button pButton class="p-button-warning p-button-sm" type="button"

                        icon="pi pi-pencil" pTooltip="Edit" tooltipPosition="top" (click)="QueryFAQ(columns.srno)"

                    ></button>&nbsp;&nbsp;
                    <button pButton class="p-button-danger p-button-sm" type="button"

                    icon="pi pi-times" pTooltip="Delete" tooltipPosition="top"

                    (click)="deleteFAQ(columns.srno)"></button></td>

                
            </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
            <span style="text-align: center;">

                <div style="text-align: center; margin: 2%;">
                    <strong> No FAQ Present </strong>
                </div>
            </span>
        </ng-template>

    </p-table>
    <p-dialog [(visible)]="FAQdialog" [style]="{width: '800px'}" header="Edit FAQ" [modal]="true"
    styleClass="p-fluid">
    <ng-template pTemplate="content">

      <div class=" md:align-items-center md:justify-content-between md:flex-row">
       
        <div style="padding: 1%;">
        <h4 style="color: #607D8B;"> Questions<span style="color: red"> *</span>:</h4>
          <textarea rows="6" cols="40" pInputTextarea [(ngModel)]="faqtitle"></textarea>
        </div>

        <div>
            <h4 style="color: #607D8B;">Description<span style="color: red"> *</span>:</h4>
            <p-editor [style]="{'height':'320px'}" [(ngModel)]="description"></p-editor>
        </div>
      </div>

    </ng-template>

    <ng-template pTemplate="footer">

      <button pButton pRipple type="button" label="Save" class="p-button-success" (click)="updateFAQ()"></button>
      <button pButton pRipple type="button" label="Cancel" class="p-button-danger" (click)="hideFAQ()"></button>

    </ng-template>
  </p-dialog> 

</div>