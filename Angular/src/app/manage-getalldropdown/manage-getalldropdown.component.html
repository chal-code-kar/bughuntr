<p-toast></p-toast>
<p-confirmDialog header="Confirmation" icon="pi pi-exclamation-triangle"></p-confirmDialog>

<div class="surface-ground border-top-1 border-bottom-1 border-gray-300 px-4 py-3">
    <div class="flex flex-column md:align-items-center md:justify-content-between md:flex-row grid">
        <div class="font-medium text-3xl text-900 col-12 md:col-7">Manage Dropdown</div>
        <div class="col-12 md:col-5 grid">

            <span class="col-12 md:col-12" style="text-align: right;">
                <p-button label="ADD Dropdown" [routerLink]="['/manage-add']" icon="pi pi-plus"></p-button>
            </span>
        </div>
    </div>
</div>

<div class="p-3">
<p-messages severity="warn">
    <ng-template pTemplate>
        <div class="p-ml-2">You can add and update options in multiselect dropdown.</div>
    </ng-template>
</p-messages>
</div>
<div class="p-3">
<p-table #dt [paginator]="true" [rows]="10" [value]="showdropdown" [rowHover]="true" styleClass="p-datatable-gridlines"
    [globalFilterFields]="['lookupgroup','lookupcode','lookupvalue','createdby']">

    <ng-template pTemplate="caption">
        <div style="text-align: right;">
            <span class="p-input-icon-left">
                <input pInputText type="text" (input)="dt.filterGlobal($any($event.target).value, 'contains')"
                    placeholder="Search" />
            </span>
        </div>
    </ng-template>
    <ng-template pTemplate="header">
        <tr>
            <th style="width:5%">Sr. No</th>
            <th style="width:20%">Lookup Group </th>
            <th style="width:10%">Lookup Code</th>
            <th style="width:20%">Lookup Value</th>
            <th style="width:10%">Status</th>
            <th style="width:10%">Created By</th>
            <th style="width:10%">Actions</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-option let-i="rowIndex">
        <tr>
            <td>{{i+1}}</td>
            <td style="white-space: pre;">{{option.lookupgroup}}</td>
            <td>{{option.lookupcode}}</td>
            <td>{{option.lookupvalue}}</td>
            <td>
                <span *ngIf="option.active == true">
                    Active
                </span>
                <span *ngIf="option.active == false">
                    Inactive
                </span>
            </td>
            <td>{{option.createdby}}</td>
            <td>
                <button style="margin-right: 4px;" pTooltip="Edit" tooltipPosition="top" *ngIf="option.active == true"
                    pButton pRipple type="button" icon="pi pi-pencil" class="p-button-warning" (click)="editOption(option.id)"></button>
                <button pTooltip="Delete" tooltipPosition="top" *ngIf="option.active == true" pButton pRipple
                    type="button" icon="pi pi-times"  (click)="deleteDropdown(option.id)" class="p-button-danger" ></button>
            </td>
        </tr>
    </ng-template>
</p-table>
</div>
